<html>
<script type="text/javascript" src="PublishingPasswordMe.js"></script>
<script type="text/javascript" src="../../unhosted/loader.js"></script>
<script>
    // TODO: Disable button during loading
    var saveBlogPost = null;
    loadUnhosted('../../unhosted', function(err){
        if(err) throw err;

        // Save blog post
	saveBlogPost = function(){
            unhosted.importPub(PublishingPasswordMe, "hardCodedPub");
            var text = document.getElementById('blogpost')
                .value.replace(/\n/g, '<br>');

	    unhosted.set('hardCodedPub'
                         , 'myFirstUnhostedBlogPost'
                         , text );
        }
    });
</script>
<body>
<H2>This code is only for demonstration and not safe to run in production.</H2>
<H2>Only run it in a local development environment, never on a public IP or production server.</H2>
<textarea id="blogpost" rows="20" cols="80"> 
hello, world! Let me tell you about this great project called Unhosted... bla bla bla
</textarea>
<br>
<input type="submit" value="unhost this blogpost!" onclick="saveBlogPost();"/>

</body>
</html>
